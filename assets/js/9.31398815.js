(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{280:function(n,e,t){"use strict";t.r(e);var s=t(14),a=Object(s.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"插件类使用总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插件类使用总结"}},[n._v("#")]),n._v(" 插件类使用总结")]),n._v(" "),e("h2",{attrs:{id:"ali-oss"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ali-oss"}},[n._v("#")]),n._v(" ali-oss")]),n._v(" "),e("p",[n._v("功能: 可以将文件资料上传到阿里云的oss\n实现，以react为例：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("  yarn add ali-oss\n  import OSS from 'ali-oss'\n  const client = new OSS({   \n    accessKeyId: '',  // 后端提供\n    accessKeySecret: '',    // 后端提供 \n    stsToken: '',  // 后端提供\n    bucket: 'media-cash-market-in', // oss目录\n    region: 'oss-ap-southeast-5', // 所在地区，可去https://www.alibabacloud.com/help/zh/doc-detail/31837.html查询\n  });\n  <input type=\"file\" name='face' accept=\"image/*\" onChange={e => {\n    change(e)\n  }}/>\n  const change = (e) => {\n    const target = e.target\n    if (target?.files?.[0]) {\n      Toast.loading('Menuat, tidak ada konten...', 0);\n      const file = target.files[0];\n      const windowURL = window.URL || window.webkitURL;\n      const dataURL = windowURL.createObjectURL(file);\n      \n      const reader = new FileReader();//此处主要用FileReader处理         \n      reader.readAsDataURL(file);               \n      reader.onloadend = () => {  \n        const index1 = file.name.lastIndexOf('.');\n        const index2 = file.name.length;\n        let fileName = file.name.substring(0, index1); // 文件名\n        const suffix = file.name.substring(index1, index2); // 后缀名\n        // fileName = this.stripscript(fileName);\n        const url = fileName + '_' + new Date().getTime() + suffix; \n        //oss上传\n        client.put(\n          'loan_user/' + url,   //放到loan_user文件夹下                  \n          file,\n        ).then(res => {\n        })\n      }\n    }\n  }\n")])])]),e("h2",{attrs:{id:"怎么部署git项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#怎么部署git项目"}},[n._v("#")]),n._v(" 怎么部署git项目")]),n._v(" "),e("p",[n._v("1.登录 github"),e("br"),n._v("\n2.新建仓库一：username.github.io"),e("br"),n._v("\n（必须为你的github账户的username，而不是昵称啥的）"),e("br"),n._v("\n3.新建仓库二，名称随意如vuepress-demo"),e("br"),n._v("\n二者的关系是：仓库一负责显示网站内容，我们不需要改动它；日常开发和新增内容，都在仓库二中，并通过 npm run deploy 命令，将代码发布到仓库一"),e("br"),n._v("\n4.根目录下新建deploy.sh：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("#!/usr/bin/env sh\n\n# 确保脚本抛出遇到的错误\nset -e\n\n# 生成静态文件\nnpm run build\n\n# 进入生成的文件夹\ncd docs/.vuepress/dist\n\n# 如果是发布到自定义域名\n# echo 'www.yourwebsite.com' > CNAME\n\ngit init\ngit add -A\ngit commit -m 'deploy'\n\n# 如果你想要部署到 https://USERNAME.github.io\ngit push -f git@github.com:nan-gong/nan-gong.github.io.git master\n\n# 如果发布到 https://USERNAME.github.io/<REPO>  REPO=github上的项目\n# git push -f git@github.com:USERNAME/<REPO>.git master:gh-pages\n\ncd -\n")])])]),e("p",[n._v("package.json 文件夹中添加发布命令：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('"scripts": {\n  "deploy": "bash deploy.sh"\n}\n')])])]),e("p",[n._v("运行npm run deploy")])])}),[],!1,null,null,null);e.default=a.exports}}]);